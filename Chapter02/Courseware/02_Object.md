---
marp: true
theme: gaia
paginate: true
---
<style>
   em{
        font-style: normal;
        font-weight: bold;
        color: purple;
   }
</style>

<!-- _class: lead -->
# **对象**

---

### **对象（object）**
+ 对象是*类的实例*。声明了类之后，就可以用类名定义该类的对象。
+ 一个*对象*就是一个具有某种类型的变量。
+ 与普通变量一样，对象也必须先经声明才可以使用。
+ 声明一个对象的一般形式为：

        <类名>  <对象1>,  <对象2>, …;

        Person person1, person2;

声明了两个名为personl和person2的Person类的对象。

---

### **类和对象的关系**
+ 类是指具有相同的属性和操作方法，代表了某一批对象的共性和特征，规定了这些对象的公共属性和方法，是对象集合的抽象
+ 对象是类的一个实例
+ 汽车的设计图纸是一个类，在路上行驶的汽车是一个对象。
+ 类在C++中是对象的类型，是抽象的，*不占用内存单元*</font>
+ 而对象是该类型的一个变量，使具体的，*占用内存空间。*</font>

---

### **成员函数**

+ 类的成员函数是函数的一种，它也有函数名、返回值类型声明和参数表，其操作与普通函数没有任何区别，只是它属于一个类的成员，可以被指定为私有的、保护的或公有的。
+ 其中私有的成员函数只能被本类中*其他成员函数*所调用，不能被类外调用。
+ 需要被外界调用的成员函数必须被指定为*public*，它们是类的对外接口。

---

### **成员函数的定义**
+ 成员函数可以在类的声明中就定义，也可以在类声明的外部来定义成员函数。在外部声明时，需要使用二元作用域运算符“::”。

        <类型>  <类名> :: <函数名> (<参数表>)
        { <函数体> }

其中作用域运算符“::”指出成员函数的类属。没有类属的函数称为普通函数。

---

### **作用域**
+ 作用域是指程序中标识符可以访问的区域，一般分为全局（global）和局部（1ocal）两种。
+ 对于类来说，一个类的所有数据成员和成员函数都在该类的作用域内，即使是在类声明的外部定义成员函数也不例外。
+ 一个类的任何成员可以*直接访问该类的其他任何成员*。类的成员函数可以*不受限制地访问该类的成员变量*，而在该类作用域之外对该类的数据成员和成员函数的访问则要受到一定的限制，有时甚至是不允许的。这体现了类的封装功能。

---

### **内联成员函数**

+ 在类的声明中直接定义成员函数的函数体，这样说明的函数自动成为内联成员函数。
+ 在大型项目中，通常将类的声明放在一个头文件中，而将成员函数的定义放在一个另一个源程序文件中，以提高编程的灵活性。在类的外部定义内联函数需要采用关键词*inline*。inline 关键字需放在函数定义处，而非声明处。
+ 即使声明了函数是内联的，最终*是否内联是由编译器决定的*。
+ 内联的意思是为每一个对象制作一个该函数的副本。一般而言，虽然在逻辑上将，每个对象拥有自己的成员变量和成员函数，但在实现中，成员函数的代码是共享的。

---

### **对象的访问**
+ 在类的作用域内，成员函数访问同类中的数据成员，或调用同类中的其他成员函数，可*直接使用数据成员名或成员函数名*。
+ 在类的作用域外，本类的对象可以访问其公有数据成员或成员函数，这时需使用运算符“.”。

        person1.ShowMe();

---

### **对象的访问**
+ 在类的作用域外直接访问一个对象中的私有成员和保护成员属于非法操作，将导致编译错误。
+ 同类对象之间可以整体赋值。

        person1 = person2;

+ 对象用作函数的参数时属于*赋值调用*
+ 函数可以返回一个对象。

---
### **对象与指针**

+ 可以声明指向对象的指针，存放对象存储空间的起始地址。指向对象的指针声明方法与声明指向基本数据类型变量的指针相同
  
        Person personl;
        Person *ptr = &person1;

+ ptr就是指向Person类对象的指针变量，它指向对象personl。
+ 定义指向对象的指针变量的一般形式为

        类名* 对象指针名；

---

### **对象与指针**
+ 通过指向对象的指针访问对象的成员要用运算符“->”

        ptr->ShowMe();

+ 等同于

        personl.ShowMe();

+ 同样，“*”运算符出现在指向对象的指针变量前面，表示对象本身，下面的语句与前面两条语句也是等价的，

        (*ptr).ShowMe();

---

### **对象与指针**
+ 也可以使用C++的动态内存分配new运算符可以用来动态建立一个对象：

        Person *pPerson = new Person;

+ 当然，用new建立的对象要用delete释放：

        delete pPerson;
