---
marp: true
theme: gaia
paginate: true
---
<style>
   em{
        font-style: normal;
        font-weight: bold;
        color: purple;
   }
</style>

<!-- _class: lead -->
# **类的继承概述**

---

### **概述**

在C++里，类的派生与继承属于面向对象编程的核心特性，它们可以实现代码的复用以及构建层次化的类结构。
+ 一个新类从现有的类那里获得其已有的特性，这种现象称为类的*继承*；换句话说，从已有的类产生一个新的类，称为类的*派生*。这里，已有的类称为*父类或基类*，新建立的类称为*子类或派生类*。
+ 类的继承是从现有的类建立新类的方法。在建立一个新类时，可以让新类继承已定义基类的所有数据成员和成员函数，而不必重新编写这些数据成员和成员函数。

---

### **概述**

+ 派生类还可以对这些数据成员和成员函数进行*增加和调整*，使新类具备已有类没有的一些特定的功能。
+ 一个基类可以派生出*多个派生类*，派生类本身也可能作为基类派生出其他的派生类。
+ 派生类可以只有一个基类，这称为*单继承*；派生类也可以是从多个基类派生出来的，这些基类之间可能毫无关系，这称为*多继承*。

---

### 概述

+ 派生类通常需要添加基类所没有的数据成员和成员函数。*派生类比基类更具体*，它代表了一组外延较小的对象，而*基类则是派生类的抽象*。
+ 对于单继承，派生类和基类有相同的起源。继承的巨大优势在于添加了基类所没有的特性并且改进了从基类继承来的特性。

- **基类（父类）**：作为被继承的类，它定义了一些通用的属性与方法。
- **派生类（子类）**：继承自基类的类，不仅可以拥有基类的属性和方法，还能添加自身特有的属性和方法。

---

### 继承的语法
在C++中，派生类的定义语法如下：
```cpp
class 派生类名 : 继承方式 基类名 {
    // 派生类的成员
};
```
这里的“继承方式”有三种，分别是`public`、`protected`和`private`，它们会影响基类成员在派生类中的访问权限。

---

### 不同继承方式的访问权限

- **公有继承（`public`）**：基类的`public`成员在派生类中依旧是`public`成员，`protected`成员在派生类中仍然是`protected`成员，而`private`成员在派生类中不可直接访问。
- **保护继承（`protected`）**：基类的`public`和`protected`成员在派生类中都会变为`protected`成员，`private`成员在派生类中不可直接访问。
- **私有继承（`private`）**：基类的`public`和`protected`成员在派生类中都会变为`private`成员，`private`成员在派生类中不可直接访问。
- *默认是私有继承！*

---

### **示例代码**
```cpp
// 基类
class Animal {
protected:
    std::string name;
public:
    Animal(const std::string& n) : name(n) {}
    void eat() {
        std::cout << name << " is eating." << std::endl;
    }
};
```

---

### **示例代码**

```cpp
// 派生类，公有继承自 Animal
class Dog : public Animal {
public:
    Dog(const std::string& n) : Animal(n) {}
    void bark() {
        std::cout << name << " is barking." << std::endl;
    }
};
```

---

### **示例代码**

```cpp
// 派生类，私有继承自 Animal
class Cat : private Animal {
public:
    Cat(const std::string& n) : Animal(n) {}
    void meow() {
        // 可以调用基类的成员函数
        eat(); 
        std::cout << name << " is meowing." << std::endl;
    }
};
```

---

### **示例代码**

```cpp
int main() {
    Dog dog("Buddy");
    dog.eat();
    dog.bark();

    Cat cat("Whiskers");
    cat.meow();

    return 0;
}
```

---

### **代码解释**

- **`Animal`类**：作为基类，拥有一个受保护的成员`name`以及一个公有成员函数`eat()`。
- **`Dog`类**：以公有继承的方式继承自`Animal`类，除了能调用基类的`eat()`方法，还新增了自己的`bark()`方法。
- **`Cat`类**：以私有继承的方式继承自`Animal`类，在`Cat`类内部能够调用基类的`eat()`方法，并且新增了`meow()`方法。
- **`main`函数**：创建`Dog`和`Cat`类的对象，调用它们的成员函数来展示继承的效果。

---

### **继承的优点**

- **代码复用**：派生类可以直接使用基类的属性和方法，避免了代码的重复编写。
- **可扩展性**：能够在派生类中添加新的属性和方法，对基类的功能进行扩展。
- **多态性**：借助继承可以实现多态性，提升代码的灵活性与可维护性。

---

### **注意事项**

- **构造函数和析构函数**：派生类不会继承基类的构造函数和析构函数，但在创建派生类对象时会先调用基类的构造函数，销毁派生类对象时会先调用派生类的析构函数，再调用基类的析构函数。
- **访问权限**：要依据具体需求选择合适的继承方式，保证基类成员在派生类中的访问权限符合设计要求。 