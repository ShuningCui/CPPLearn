---
marp: true
theme: MyGaia
paginate: true
---
<!-- _class: lead -->
# **文件概述**

---

### **文件的基本概念**
+ 在计算机领域中，文件是存储在外部存储设备（如硬盘、U盘等）上的数据的集合，用于长期保存数据。
+ 文件是数据的一种组织形式，操作系统以文件为单位对数据进行管理。每个文件都有一个文件名，文件名由文件主名和扩展名组成，中间用点号（.）分隔。例如，`example.txt` 中，`example` 是文件主名，`.txt` 是扩展名，扩展名通常用于标识文件的类型。

---

### **文本文件**
+ 文本文件是一种以字符编码（如ASCII、UTF-8等）来存储数据的文件。文本文件中的内容可以被人类直接阅读和理解，它由一系列的文本行组成，每行通常以换行符（在Windows系统中是 `\r\n`，在Unix和Linux系统中是 `\n`）结尾。例如，一个包含英文文章、程序代码等的文件都可以是文本文件。文本文件的优点是可读性强，便于编辑和查看；缺点是占用存储空间相对较大，且在处理一些复杂数据结构时效率较低。

---

### **二进制文件**

二进制文件是以二进制格式存储数据的文件，它存储的是数据的二进制表示，而*不是字符编码*。二进制文件的内容通常*不能*被人类直接阅读和理解，它可以存储各种类型的数据，如图像、音频、视频、可执行程序等。二进制文件的优点是存储效率高，能够精确地表示各种数据类型，并且在处理复杂数据结构时速度较快；缺点是可读性差，需要特定的程序来解析和处理。

---

### **比较**
+ 文本文件和二进制文件在数据存储方式、可读性和应用场景等方面存在差异，但在作为文件存储数据的基本功能以及需要遵循一定的文件操作规范上具有相同点。以下是具体说明：

---

### **不同点**
- **存储方式**
    - 文本文件以字符编码形式存储数据，每个字符对应特定的编码值，例如ASCII码或UTF - 8编码。
    - 二进制文件直接存储数据的二进制位，将数据按其在内存中的存储形式原样保存。
- **可读性**
    - 文本文件内容可直接用文本编辑器打开查看和编辑，人类能够直观理解其中的字符信息。
    - 二进制文件内容通常是一堆乱码，需要特定的程序或工具根据其格式规则进行解析才能理解其中的数据含义。

---

### **不同点**
- **应用场景**
    - 文本文件常用于存储纯文本信息，如文档、源代码、配置文件等，方便人类阅读和修改，且跨平台性好。
    - 二进制文件用于存储各种复杂的数据类型，如图像、音频、视频、数据库文件、可执行程序等，能高效存储和处理这些特定类型的数据。

---

### **相同点**
- **基本功能**：都是用于在计算机中存储数据的文件形式，都可以进行读取、写入、删除、移动等基本的文件操作。
- **遵循规范**：在操作系统中，无论是文本文件还是二进制文件，都需要遵循一定的文件系统规范和命名规则来进行管理和操作。

---

### **C++ 的文件操作类**
在C++中，文件操作主要通过 `<fstream>` 头文件中的几个类来实现，主要有以下三个类：
1. **`ifstream`（输入文件流类）**：用于从文件中读取数据，它继承自 `istream` 类，因此可以使用 `istream` 类的各种输入操作符（如 `>>`）来读取文件内容。

---

### **例子**

```cpp
int main() {
    ifstream inFile("example.txt");  // 打开文件
    if (inFile.is_open()) {
        string line;
        while (getline(inFile, line)) {  // 逐行读取文件内容
            cout << line << endl;
        }
        inFile.close();  // 关闭文件
    } else {
        cout << "无法打开文件" << endl;
    }
    return 0;
}
```

---

### **C++ 的文件操作类**

2. **`ofstream`（输出文件流类）**：用于向文件中写入数据，它继承自 `ostream` 类，可以使用 `ostream` 类的各种输出操作符（如 `<<`）来写入数据到文件。

---

### **例子**

```cpp
int main() {
    ofstream outFile("output.txt");  // 打开文件
    if (outFile.is_open()) {
        outFile << "这是一行写入文件的内容。" << endl;  // 写入数据
        outFile.close();  // 关闭文件
    } else {
        cout << "无法打开文件" << endl;
    }
    return 0;
}
```

---

### **C++ 的文件操作类**

3. **`fstream`（输入输出文件流类）**：它既可以用于读取文件，也可以用于写入文件，结合了 `ifstream` 和 `ofstream` 的功能。

---

### **例子**

```cpp
int main() {
    fstream ioFile("io.txt");  // 打开文件
    if (ioFile.is_open()) {
        ioFile << "写入一些内容到文件。" << endl;  // 写入数据
        ioFile.seekg(0, ios::beg);  // 将文件指针移动到文件开头
        string line;
        while (getline(ioFile, line)) {  // 读取文件内容
            cout << line << endl;
        }
        ioFile.close();  // 关闭文件
    } else {
        cout << "无法打开文件" << endl;
    }
    return 0;
}
```